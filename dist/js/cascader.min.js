!function(t){"use strict";function e(d){if(!$)return console.warn("load jQuery first please"),!1;this.selectedValue="",this.selectedData=[];var h=this;function p(){$(".cascader-icon").removeClass("cascader-icon-active"),$(".cascader-box").removeClass("content-show"),$(".cascader-content").removeClass("content-show"),$(".cascader-content-item").removeClass("cascader-content-item-click")}$("body").on("click",function(t){p()}).on("click",".cascader",function(t){($(".cascader-box").hasClass("content-show")?p:function(){for(var t=0;t<h.selectedData.length;t++){var e=h.selectedData[t];$(".cascader-content-item[title="+e.value+"]").addClass("cascader-content-item-click").parent().addClass("content-show")}$(".cascader-icon").addClass("cascader-icon-active"),$(".cascader-box").addClass("content-show")})(),t.stopPropagation()}).on("click",".cascader-content-item",function(t){for(var e=$(this),a=$(this).attr("torank"),c=$(this).attr("totag"),s=$(".cascader-content[tag="+c+"]"),n=d.data,o=c.split("-"),i=0;i<$(".cascader-content").length;i++){var l=$(".cascader-content").eq(i);l.attr("rank")>=a&&l.removeClass("content-show").find(".cascader-content-item").removeClass("cascader-content-item-click")}if(e.addClass("cascader-content-item-click").siblings().removeClass("cascader-content-item-click"),s.length)s.addClass("content-show").css({left:(a-1)*(h.option.width||228)});else{h.selectedValue="",h.selectedData=[];for(var r=0;r<o.length;r++)h.selectedValue+=n[o[r]].value+"/",h.selectedData.push(n[o[r]]),n=n[o[r]].child||null;h.selectedValue=h.selectedValue.substr(0,h.selectedValue.length-1),$(".cascader-selected").html(h.selectedValue),p(),d.callback&&d.callback(h.current())}t.stopPropagation()}),this.option=d}e.prototype.init=function(){var t="[object Array]"===Object.prototype.toString.call(this.option.data)?this.option.data:[],t='<div class="cascader" '+(this.option.width?'style="width: '+this.option.width+'px"':"")+'><div class="cascader-selected" '+(this.option.width?'style="width: '+(this.option.width-28)+'px"':"")+'></div><a class="cascader-icon" href="javascript:;"></a><div class="cascader-box">'+function t(e,a,c){var s='<div class="cascader-content" rank='+a+" tag="+(c||"parent")+">";var n={};for(var o=0;o<e.length;o++){var i=e[o],l=c?c+"-"+o:o;s+='<div class="cascader-content-item '+(i.className||"")+'" title='+i.value+" torank="+(a+1)+" totag="+l+">"+i.value+"<span>></span></div>","[object Array]"===Object.prototype.toString.call(i.child)&&(n[l]=i.child)}s+="</div>";if(Object.keys(n).length)for(var r in n)s+=t(n[r],a+1,r);else s=s.replace(/<span>><\/span>/g,"");return s}(t,1)+"</div></div>";$(this.option.container).html(t),this.option.width&&$(".cascader-content").css({width:this.option.width})},e.prototype.current=function(){return{value:this.selectedValue,data:this.selectedData}},e.prototype.reset=function(){this.selectedValue="",this.selectedData=[],$(".cascader-selected").html("")},t.Cascader=e}(window);