!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Cascader=t()}(this,function(){function e(u){this.option=u,this.selectedValue="",this.selectedData=[],this.width=this.option.width&&228;var h=this;function p(){document.querySelector(".cascader-icon").classList.remove("cascader-icon-active"),document.querySelector(".cascader-box").classList.remove("content-show");for(var e=0;e<document.querySelectorAll(".cascader-content").length;e++)document.querySelectorAll(".cascader-content")[e].classList.remove("content-show");for(var t=0;t<document.querySelectorAll(".cascader-content-item").length;t++)document.querySelectorAll(".cascader-content-item")[t].classList.remove("cascader-content-item-click")}document.querySelector("body").addEventListener("click",function(e){if((t=e.target).classList.contains("cascader-icon")||t.classList.contains("cascader-selected"))(document.querySelector(".cascader-box").classList.contains("content-show")?p:function(){for(var e=0;e<h.selectedData.length;e++){var t=h.selectedData[e];document.querySelector('.cascader-content-item[title="'+t.value+'"]').classList.add("cascader-content-item-click"),document.querySelector('.cascader-content-item[title="'+t.value+'"]').parentElement.classList.add("content-show")}document.querySelector(".cascader-icon").classList.add("cascader-icon-active"),document.querySelector(".cascader-box").classList.add("content-show")})(),e.stopPropagation();else if(t.classList.contains("cascader-content-item")){for(var t,c=(t=e.target).getAttribute("torank"),a=t.getAttribute("totag"),o=document.querySelector('.cascader-content[tag="'+a+'"]'),s=u.data.concat([]),n=a.split("-"),l=0;l<document.querySelectorAll(".cascader-content").length;l++){var i=document.querySelectorAll(".cascader-content")[l];if(i.getAttribute("rank")>=c){i.classList.remove("content-show");for(var r=0;r<i.children.length;r++)i.children[r].classList.remove("cascader-content-item-click")}}for(var d=0;d<t.parentElement.children.length;d++)t.parentElement.children[d].classList.remove("cascader-content-item-click");if(t.classList.add("cascader-content-item-click"),o)o.classList.add("content-show");else{h.selectedValue="",h.selectedData=[];for(l=0;l<n.length;l++)h.selectedValue+=s[n[l]].value+"/",h.selectedData.push(s[n[l]]),s=s[n[l]].child||null;h.selectedValue=h.selectedValue.substr(0,h.selectedValue.length-1),document.querySelector(".cascader-selected").innerHTML=h.selectedValue,p(),u.callback&&u.callback(h.current())}e.stopPropagation()}else p()})}return e.prototype.init=function(){var e,t="[object Array]"===Object.prototype.toString.call(this.option.data)?this.option.data:[],c=t.concat([]),a='<div class="cascader" style="width: '+this.width+'px;"><div class="cascader-selected" style="width: '+(this.width-28)+'px"></div><a class="cascader-icon" href="javascript:;"></a><div class="cascader-box">'+r.call(this,t,1)+"</div></div>";if(e=document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.innerHTML='.cascader {height:28px;line-height:28px;position:relative;z-index:1;margin:auto;cursor:pointer;}.cascader-selected {height:100%;padding:0 5px;text-align:center;background-color:#3E3C51;color:#B4B2C3;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.cascader-icon {display:block;width:28px;height:28px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAcCAYAAAD/YJjAAAACgUlEQVRoge2YzW6bQBDHhw8b/EFyyCEB1rSRem2veZeqz9Bn6INWckUAY6mcwAHbwa5mwK6bCIydiS/dn2Sthh32n/1lQU6Ub1+/b+GC3Ny4l4yDJAkvmqdeNO0/QAplRgplRgplRgplRgplRgplRgplRgpl5iyh/X4fPO8jjZegyvPY8waDIdze2p16sQ/7j3Gy0H7fACE+gGmYIIRH9XuCEoUQdZ5gk6ooKti2A9dX12DfuaAoSkOfArbt1n0O3dfGSUINw4SJ8EDXNCg3G9A1nWrDeB+puO5ETCin3JR13oQlb7vdQBSFtA/LsuCOZP0rFWu8bo0t6otmId3XRmehKFO4E9A0DRZPC5hOf9KItXA9mucEpQlXHORND/IEi9SiyCEM/Urq2KKTuJO6O5k7mdiH/cfoJNQ0q8cbN5MtMoiiADb4G4sCqmmTwqM+Dqo8cZAX1XnRQZ5gySuKAoLAh7IsYTwag+MIUFWVRqzxOs5jXxeOCjXNAbiuB5qqQpqlMKNjX/3HD0es8TrOYx/2vwWU5LouaKpW581e5M3qPI36OKQulwUE4SPJGw1HcH//iUaSGfo035VWofgCdhy3kpmmEMfRfnM7sMbrO6kOPTbnfRvDx8xxnEom5cUNefFeqmO/fvedA0p7DHx4Lkvax3P5TPVyuTxpNe3L54cfzdPb/VGP51HrQlmWgt7rQZL8hvV61dg3HF61rvM3Lz6Sl4He0yFJEliv1419eZ62rnMInsjFIgNzMKDX2WrVvI8m9GMNef5Eny7M57OTf4DXeTl9uuXN35z3EpTo+7/Ovl/+pcSMFMqMFMqMFMqMFMqMFMqMFMqMFMqMFMoJAPwBppknOva7ILEAAAAASUVORK5CYII=) left top no-repeat;position:absolute;top:0;right:0;}.cascader-icon:not(.cascader-icon-active):hover {background-position:-28px 0;}.cascader-icon-active {background-position:-56px 0;}.cascader-box {display:none;}.cascader-content {position:absolute;left:0;top:32px;height:120px;background-color:#3E3C51;overflow-y:auto;display:none;}.cascader-content[tag="parent"] {display:block;}.cascader-content::-webkit-scrollbar {width:5px;}.cascader-content::-webkit-scrollbar-thumb {background:#706D86;}.cascader-content::-webkit-scrollbar-track {border-radius:0;background:transparent;}.cascader-content-item {position:relative;height:30px;line-height:30px;padding:0 36px 0 10px;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#B4B2C3;}.cascader-content-item span {position:absolute;top:0;right:15px;font-size:14px;}.cascader-content-item:hover,.cascader-content-item-click {background-color:#504E63;color:#AFA7FF;}.content-show {display:block;}',e.appendChild(t),document.querySelector(this.option.container).innerHTML=a,this.option.defaultValue&&"string"==typeof this.option.defaultValue&&-1<this.option.defaultValue.indexOf("/")){this.selectedValue=this.option.defaultValue;for(var o=0;o<this.selectedValue.split("/").length;o++)for(var s=this.selectedValue.split("/")[o],n=0;n<c.length;n++){var l=c[n];if(s===l.value){this.selectedData.push(l),c=l.child||null;break}}document.querySelector(".cascader-selected").innerHTML=this.selectedValue}else if(this.option.defaultValue&&"[object Array]"===Object.prototype.toString.call(this.option.defaultValue)){for(o=0;o<this.option.defaultValue.length;o++){s=this.option.defaultValue[o];this.selectedData.push(c[s]),this.selectedValue+=c[s].value+"/",c=c[s].child||null}this.selectedValue=this.selectedValue.substr(0,this.selectedValue.length-1),document.querySelector(".cascader-selected").innerHTML=this.selectedValue}function r(e,t,c){console.log(this);for(var a='<div class="cascader-content" rank='+t+" tag="+(c||"parent")+' style="width: '+this.width+"px; left: "+(t-1)*this.width+'px">',o={},s=0;s<e.length;s++){var n=e[s],l=c?c+"-"+s:s;a+='<div class="cascader-content-item '+(n.className||"")+'" title='+n.value+" torank="+(t+1)+" totag="+l+">"+n.value+(n.child?"<span>></span>":"")+"</div>","[object Array]"===Object.prototype.toString.call(n.child)&&(o[l]=n.child)}if(a+="</div>",Object.keys(o).length)for(var i in o)a+=r.call(this,o[i],t+1,i);return a}},e.prototype.current=function(){return{value:this.selectedValue,data:this.selectedData}},e.prototype.reset=function(){this.selectedValue="",this.selectedData=[],document.querySelector(".cascader-selected").innerHTML=""},e});