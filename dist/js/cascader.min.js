!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Cascader=t()}(this,function(){function e(p){this.option=p,this.selectedValue="",this.selectedData=[];var u=this;function h(){document.querySelector(".cascader-icon").classList.remove("cascader-icon-active"),document.querySelector(".cascader-box").classList.remove("content-show");for(var e=0;e<document.querySelectorAll(".cascader-content").length;e++)document.querySelectorAll(".cascader-content")[e].classList.remove("content-show");for(var t=0;t<document.querySelectorAll(".cascader-content-item").length;t++)document.querySelectorAll(".cascader-content-item")[t].classList.remove("cascader-content-item-click")}document.querySelector("body").addEventListener("click",function(e){if((t=e.target).classList.contains("cascader-icon")||t.classList.contains("cascader-selected"))(document.querySelector(".cascader-box").classList.contains("content-show")?h:function(){for(var e=0;e<u.selectedData.length;e++){var t=u.selectedData[e];document.querySelector('.cascader-content-item[title="'+t.value+'"]').classList.add("cascader-content-item-click"),(document.querySelector('.cascader-content-item[title="'+t.value+'"]').parentNode||document.querySelector('.cascader-content-item[title="'+t.value+'"]').parentElement).classList.add("content-show")}document.querySelector(".cascader-icon").classList.add("cascader-icon-active"),document.querySelector(".cascader-box").classList.add("content-show")})(),e.stopPropagation();else if(t.classList.contains("cascader-content-item")){for(var t,c=(t=e.target).getAttribute("torank"),o=t.getAttribute("totag"),a=document.querySelector('.cascader-content[tag="'+o+'"]'),n=p.data,r=o.split("-"),i=0;i<document.querySelectorAll(".cascader-content").length;i++){var s=document.querySelectorAll(".cascader-content")[i];if(s.getAttribute("rank")>=c){s.classList.remove("content-show");for(var l=0;l<s.children.length;l++)s.children[l].classList.remove("cascader-content-item-click")}}for(var d=0;d<t.parentNode.children.length;d++)t.parentNode.children[d].classList.remove("cascader-content-item-click");if(t.classList.add("cascader-content-item-click"),a)a.classList.add("content-show"),a.style.left=(c-1)*(u.option.width||228)+"px";else{u.selectedValue="",u.selectedData=[];for(i=0;i<r.length;i++)u.selectedValue+=n[r[i]].value+"/",u.selectedData.push(n[r[i]]),n=n[r[i]].child||null;u.selectedValue=u.selectedValue.substr(0,u.selectedValue.length-1),document.querySelector(".cascader-selected").innerHTML=u.selectedValue,h(),p.callback&&p.callback(u.current())}e.stopPropagation()}else h()})}return e.prototype.init=function(){var e,t="[object Array]"===Object.prototype.toString.call(this.option.data)?this.option.data:[],c='<div class="cascader" '+(this.option.width?'style="width: '+this.option.width+'px"':"")+'><div class="cascader-selected" '+(this.option.width?'style="width: '+(this.option.width-28)+'px"':"")+'></div><a class="cascader-icon" href="javascript:;"></a><div class="cascader-box">'+function e(t,c,o){var a='<div class="cascader-content" rank='+c+" tag="+(o||"parent")+">";var n={};for(var r=0;r<t.length;r++){var i=t[r],s=o?o+"-"+r:r;a+='<div class="cascader-content-item '+(i.className||"")+'" title='+i.value+" torank="+(c+1)+" totag="+s+">"+i.value+(i.child?"<span>></span>":"")+"</div>","[object Array]"===Object.prototype.toString.call(i.child)&&(n[s]=i.child)}a+="</div>";if(Object.keys(n).length)for(var l in n)a+=e(n[l],c+1,l);return a}(t,1)+"</div></div>";e=document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.innerHTML='.cascader {width:228px;height:28px;line-height:28px;position:relative;z-index:1;margin:auto;cursor:pointer;}.cascader-selected {width:200px;height:100%;padding:0 5px;text-align:center;background-color:#3E3C51;color:#B4B2C3;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.cascader-icon {display:block;width:28px;height:28px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAcCAYAAAD/YJjAAAACgUlEQVRoge2YzW6bQBDHhw8b/EFyyCEB1rSRem2veZeqz9Bn6INWckUAY6mcwAHbwa5mwK6bCIydiS/dn2Sthh32n/1lQU6Ub1+/b+GC3Ny4l4yDJAkvmqdeNO0/QAplRgplRgplRgplRgplRgplRgplRgpl5iyh/X4fPO8jjZegyvPY8waDIdze2p16sQ/7j3Gy0H7fACE+gGmYIIRH9XuCEoUQdZ5gk6ooKti2A9dX12DfuaAoSkOfArbt1n0O3dfGSUINw4SJ8EDXNCg3G9A1nWrDeB+puO5ETCin3JR13oQlb7vdQBSFtA/LsuCOZP0rFWu8bo0t6otmId3XRmehKFO4E9A0DRZPC5hOf9KItXA9mucEpQlXHORND/IEi9SiyCEM/Urq2KKTuJO6O5k7mdiH/cfoJNQ0q8cbN5MtMoiiADb4G4sCqmmTwqM+Dqo8cZAX1XnRQZ5gySuKAoLAh7IsYTwag+MIUFWVRqzxOs5jXxeOCjXNAbiuB5qqQpqlMKNjX/3HD0es8TrOYx/2vwWU5LouaKpW581e5M3qPI36OKQulwUE4SPJGw1HcH//iUaSGfo035VWofgCdhy3kpmmEMfRfnM7sMbrO6kOPTbnfRvDx8xxnEom5cUNefFeqmO/fvedA0p7DHx4Lkvax3P5TPVyuTxpNe3L54cfzdPb/VGP51HrQlmWgt7rQZL8hvV61dg3HF61rvM3Lz6Sl4He0yFJEliv1419eZ62rnMInsjFIgNzMKDX2WrVvI8m9GMNef5Eny7M57OTf4DXeTl9uuXN35z3EpTo+7/Ovl/+pcSMFMqMFMqMFMqMFMqMFMqMFMqMFMqMFMoJAPwBppknOva7ILEAAAAASUVORK5CYII=) left top no-repeat;position:absolute;top:0;right:0;}.cascader-icon:not(.cascader-icon-active):hover {background-position:-28px 0;}.cascader-icon-active {background-position:-56px 0;}.cascader-box {display:none;}.cascader-content {position:absolute;left:0;top:32px;width:228px;height:120px;background-color:#3E3C51;overflow-y:auto;display:none;}.cascader-content[tag="parent"] {display:block;}.cascader-content::-webkit-scrollbar {width:5px;}.cascader-content::-webkit-scrollbar-thumb {background:#706D86;}.cascader-content::-webkit-scrollbar-track {border-radius:0;background:transparent;}.cascader-content-item {position:relative;height:30px;line-height:30px;padding:0 36px 0 10px;box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#B4B2C3;}.cascader-content-item span {position:absolute;top:0;right:15px;font-size:14px;}.cascader-content-item:hover,.cascader-content-item-click {background-color:#504E63;color:#AFA7FF;}.content-show {display:block;}',e.appendChild(t),document.querySelector(this.option.container).innerHTML=c,this.option.width&&(document.querySelector(".cascader-content").style.width=this.option.width+"px")},e.prototype.current=function(){return{value:this.selectedValue,data:this.selectedData}},e.prototype.reset=function(){this.selectedValue="",this.selectedData=[],document.querySelector(".cascader-selected").innerHTML=""},e});